# cip

PHP 7.1<br>
MySQL 5.7<br>
ну и сomposer install<br>
Дамп sql в папке "MySQL Dump". Сеелку в объектов в базу не писал, просто сам создал несколько опросов.<br><br><br>
Немного истории. Начал делать задание в конце мая,  в принципе по коммитам видно, тогда же и собеседовался.
Ранее работал с Laravel, с симфони это первый опыт.
Почитав пару часов документацию по симфони, начал создавать сущности, контроллеры.
Обратил внимание на то, что при создании опроса нужно реализовать добавление форм для вопросов и вариантов ответов без перезагрузки, прочитал про коллекции форм, увидел пример для 1 уровня вложенности, вложил аналогично в опрос ответы.
Потом в течении 1-2 вечеров пытался "по аналогии", как написано в документации, сделать прототип для ещё одного уровня вложенности, в документацию такого примера не положили, интуитивно сделать не получалось и быстро нагуглить тоже.
Потом у меня случилось несчастье и я решил пока повременить с продолжением задания и сменой работы. С тех пор прошло 5 месяцев.
Примерно неделю назад решил вспомнить симфони всё же доделать задание.
Пример с более глубокой вложенностью в итоге нагуглил. То что нужно для класса формы по другому называть прототип и первым в форму добавляь прототип самого младшего потомка
Наверное для меня искать этот путь было самой не простой задачей в тестовом. 
Далее, что бы JS, аналогичный с документацией отработал и для второго уровня вложенности, сделал класс и запустил создание объектов этого класса для всех потомков опроса
Ещё вызвало небольшую сложность создание фильтрации ответов пользователей, но с прототипом форм сложнее.
Тут сначала думал, над структурой как это всё организовать, потом понял, что правильнее наверно будет собирать строку SQL в зависимости от выбора администратора
и по ней получать пользователей и их ответы. Вспомнил, что для посотоения SQL строк часто используется Строитель и вызываются его методы,
потом решил, что тут посути меняется только условие WHERE, да и то однотипно и быстрее будет собрать строку просто if-ами в одном методе.
Я тут недавно нашёл одну ошибку, которую я допустил в самом начале ещё в мае и не проверил себя. Может быть Вы тоже её увидите. :)
